on:
  push:
    branches: [ dev ]
name: 💻 Deploy on development
jobs:
  web-deploy:
    name: 🌐 Deploy on development
    runs-on: ubuntu-latest
    steps:
    - name: 📡 Get latest code
      uses: actions/checkout@v2
    
    - name: 🔧 Sync files
      uses: SamKirkland/FTP-Deploy-Action@4.2.0
      with:
        server: ${{ secrets.FTP_SERVER }}
        username: ${{ secrets.FTP_USERNAME }}
        password: ${{ secrets.FTP_PASSWORD }}
        server-dir: ${{ secrets.FTP_SERVER_DIR_DEV }}
        exclude: |
          git/**
          .git**
          .git*/**
          /.git*/**
          .github/**
          .github**
          .github*/**
          /.github*/**
          /**/LICENSE
          /**/README.md
          /**/SECURITY.md
          web/app/themes/**/assets/src/**
          web/app/themes/**/assets/package.json
          web/app/themes/**/assets/package-lock.json
          web/app/themes/**/yarn.lock
          web/app/themes/**/assets/webpack.config.js
          web/app/themes/**/assets/node_modules/**
          vendor/**
          **/.cache/**
          **/.gitignore/**